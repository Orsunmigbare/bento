{"dependencies":[{"name":"/Users/espen/Projects/bento/.babelrc","includedInParent":true,"mtime":1519317541057},{"name":"/Users/espen/Projects/bento/packages/base/package.json","includedInParent":true,"mtime":1519727028082},{"name":"react","loc":{"line":1,"column":18}},{"name":"prop-types","loc":{"line":2,"column":22}},{"name":"styled-components","loc":{"line":3,"column":19}},{"name":"easing-utils","loc":{"line":4,"column":23}},{"name":"../../../../functions/inverseLerp","loc":{"line":5,"column":24}},{"name":"../../Input/Input","loc":{"line":6,"column":18}},{"name":"../Slider/Slider","loc":{"line":7,"column":19}},{"name":"../../../../functions/clamp","loc":{"line":8,"column":18}}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=require(\"react\"),i=g(n),a=require(\"prop-types\"),r=g(a),o=require(\"styled-components\"),u=g(o),s=require(\"easing-utils\"),l=require(\"../../../../functions/inverseLerp\"),p=g(l),c=require(\"../../Input/Input\"),d=g(c),f=require(\"../Slider/Slider\"),m=g(f),h=require(\"../../../../functions/clamp\"),b=g(h);function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function y(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function w(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=function(n){function a(e){v(this,a);var t=y(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={isAnimatingIn:!1,currentValue:0,percentage:0},t.handleChange=t.handleChange.bind(t),t.countUp=t.countUp.bind(t),t.stopCount=t.stopCount.bind(t),t.updateState=t.updateState.bind(t),t.tick=0,t}return w(a,i.default.Component),t(a,[{key:\"componentDidMount\",value:function(){this.props.easingFunction&&this.startCount()}},{key:\"componentWillUnmount\",value:function(){this.props.easingFunction&&this.stopCount()}},{key:\"startCount\",value:function(){var e=this;this._frameId||this.setState({isAnimatingIn:!0},function(){e._frameId=window.requestAnimationFrame(e.countUp)})}},{key:\"countUp\",value:function(){var e=this;if(this.tick<this.props.animationTicks&&this.props.easingFunction){var t=this.props.easingFunction(this.tick/this.props.animationTicks),n=this.props.value*t;this.updateState(n).then(function(){e._frameId=window.requestAnimationFrame(e.countUp)})}else this.updateState(this.props.value,{isAnimatingIn:!1}).then(this.stopCount);this.tick++}},{key:\"stopCount\",value:function(){window.cancelAnimationFrame(this._frameId)}},{key:\"updateState\",value:function(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(a){n.setState(e({currentValue:(0,b.default)(n.props.min,n.props.max,Math.ceil(t)),percentage:100*(0,p.default)(n.props.min,n.props.max,t)},i),a)})}},{key:\"handleChange\",value:function(e){var t=this,n=e.target.value;this.updateState(n).then(function(){t.props.onChange&&t.props.onChange(t.state.currentValue)})}},{key:\"render\",value:function(){var e=this.props,t=e.label,n=e.name,a=e.min,r=e.max,o=e.step,u=e.mask,s=this.state,l=s.currentValue,p=s.percentage;return i.default.createElement(C,null,i.default.createElement(_,{htmlFor:n},t),i.default.createElement(x,{type:\"text\",name:n+\"-keyboard\",id:n+\"-keyboard\",value:l,onChange:this.handleChange,min:a,max:r,mask:u||null,disabled:this.state.isAnimatingIn}),i.default.createElement(m.default,{percentage:p,value:l,name:n,id:n,step:o,min:a,max:r,onChange:this.handleChange}))}}]),a}(),C=u.default.div.withConfig({displayName:\"SliderKeyboardInput__SliderWrapper\"})([\"font-family:\",\";font-size:\",\";\"],function(e){return e.theme.font.body},function(e){return e.theme.font.size.input}),_=u.default.label.withConfig({displayName:\"SliderKeyboardInput__HiddenLabel\"})([\"border:0 !important;clip:rect(0 0 0 0) !important;height:1px !important;margin:-1px !important;overflow:hidden !important;padding:0 !important;position:absolute !important;width:1px !important;\"]),x=(0,u.default)(d.default).withConfig({displayName:\"SliderKeyboardInput__SliderInput\"})([\"background-color:transparent;border:0;min-height:\",\";margin-bottom:\",\";max-width:100%;-moz-appearance:textfield;outline:none;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;margin:0;}&:hover,&:active,&:focus,&:-moz-ui-invalid,&:invalid{outline:none;box-shadow:none;}&:disabled{color:\",\";}\"],function(e){return e.theme.targetSize.normal},function(e){return e.theme.spacing.medium},function(e){return e.theme.color.text});k.defaultProps={value:0,min:0,max:100,step:1,animationTicks:50,easingFunction:s.linear,onChange:null},k.propTypes={label:r.default.string.isRequired,name:r.default.string.isRequired,value:r.default.number,min:r.default.number,max:r.default.number,onChange:r.default.func,step:r.default.number,animationTicks:r.default.number,easingFunction:r.default.func},exports.default=k;"},"hash":"51570b26aef206569bb467cc9e64190a","cacheData":{"env":{}}}