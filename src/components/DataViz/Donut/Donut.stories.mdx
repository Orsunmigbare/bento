import {useState} from "react"
import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';
import { withKnobs, number } from "@storybook/addon-knobs"
import { action }Â from "@storybook/addon-actions"
import Donut from "./Donut.js"
import Slider from "../../Forms/Slider/Slider/Slider"

<Meta title="Components|DataViz/Donut" component={Donut} decorators={[withKnobs]}/>

# Donut

Donut displays progress from 0 to 100%, as a radial progressbar

```javascript
import {Donut} from "@staccx/bento"
```

## Donut with progress 0% (withKnobs)

<Preview>
  <Story name="0%">
   <Donut progress={number("Donut",0.0,"Donut")}/>
  </Story>
</Preview>


## Donut with progress 50%
<Preview>
  <Story name="50%">
   <Donut progress={0.5}/>
  </Story>
</Preview>

## Donut with progress 75%
<Preview>
  <Story name="75%">
   <Donut progress={0.75}/>
  </Story>
</Preview>


## Donut with progress 50% with Slider for progress
<Preview>
  <Story name="100%">
   {() => {
       const [progress, setProgress] = useState(1);
       return <div>
       <p>Set value for Donut</p>
       <Slider min={0} max={1} step={0.01} defaultValue={0.5} onChange={(value) => setProgress(value)} onUpdate={(value) => setProgress(value)} label="set progress"/>
       <Donut progress={Number(progress)}  />
       </div>
      }}
  </Story>
</Preview>

## Donut with threshold set to 10%
<Preview>
    <Story name="Threshold low">
       <Donut progress={0.2} warningThreshold={0.1}/>
     </Story>
</Preview>




## Different possible pitfalls
These are examples showing what happends if the component recieves props that are
out of range

## Donut with progress over 100%

<Preview>
  <Story name="110%">
   <Donut progress={1.1}/>
  </Story>
</Preview>


## Donut with progress under 0%

<Preview>
  <Story name="-10%">
   <Donut progress={-0.1}/>
  </Story>
</Preview>



## Donut with threshold lower than 0%
<Preview>
    <Story name="Threshold under 0%">
       <Donut progress={0.2} warningThreshold={-0.1}/>
     </Story>
</Preview>


## Donut with threshold higher than 100%
<Preview>
    <Story name="Threshold over 100%">
       <Donut progress={1} warningThreshold={1.5}/>
     </Story>
</Preview>

## Props for Donut

<Props of={Donut} />


